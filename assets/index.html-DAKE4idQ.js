import{_ as a,e as i,f as p,o as t}from"./app-DazCwyn3.js";const e="/blog.github.io/assets/f638c12a835d448f9cd7001f53d63e1b~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-CTUnDfR6.jpg",n="/blog.github.io/assets/93c1c646459740b4b094022bd605787b~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-BKBysObF.jpg",l="/blog.github.io/assets/c6632cc7f4454ddf9ab21688febf32c8~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-goYYxIH-.jpg",c="/blog.github.io/assets/36c9d0930d014ba7bcc9db8973c2fe60~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-OIVVWmiI.jpg",r="/blog.github.io/assets/ea41715cc7bf49bfbc664b2a56ac9c57~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-B_Wj9jP2.jpg",h="/blog.github.io/assets/f6cbc945f96e45ffb364c2128fc7db93~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-B_M1nRx2.gif",d="/blog.github.io/assets/198a0ea1b1db4b0aba1060c1f571f7a1~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-CEBYd4fW.jpg",k="/blog.github.io/assets/98279a98b7cf498dadeaadf43da024d1~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-DoiDk8xw.jpg",o="/blog.github.io/assets/4ef91d7fc8a341e58bccb6528b885ad2~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-B3jDWsMn.jpg",g="/blog.github.io/assets/b1b54798d0cc43b692c9df931de681d3~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-BDXcmu67.gif",b="/blog.github.io/assets/f2a94db07b484744afecbc07644c674e~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-25EXv5Zq.jpg",A="/blog.github.io/assets/8bc89e368028412b90d88a36a39dfd06~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-B4EgVxld.jpg",m="/blog.github.io/assets/518990593e484b2d8bb0bc3b035055db~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-B8AxoqYu.jpg",_="/blog.github.io/assets/c566efb23b6343e7bac667d43b1e3e2e~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-BIosUToy.jpg",u="/blog.github.io/assets/c0ea10a7d28a4038b7e648a6b5de4b2b~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-DENmiwrW.jpg",f="/blog.github.io/assets/5df00ad8ce534e6aa0fd2caf1a0b19f9~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-D-a1yqeq.jpg",j="/blog.github.io/assets/dc6db4727ba2443b9c7bfc18a6d1207b~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-CbqlzIsC.jpg",v="/blog.github.io/assets/c3aaa8f206d94b8a9959ea0f6bf4bd26~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-DFv0bH4m.jpg",y="/blog.github.io/assets/bc4e9e5a19b4423993cb6d86405bdd7d~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-D4BU-Rr-.jpg",B="/blog.github.io/assets/a48d8e4173ab4ce99c10271aedede022~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-BXvZB-C8.jpg",D="/blog.github.io/assets/0ec215472230448b9789f5073e94d754~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-Iti3ST0T.jpg",q="/blog.github.io/assets/8d360c5919e74c48a25e4f56e2bfc149~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-C_X2mDIL.jpg",x="/blog.github.io/assets/b790537384694161a250d56f00170172~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-CXp3i-15.jpg",C="/blog.github.io/assets/e71979b6bac44187963b4e87e596e4f4~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-DmTJFJoz.jpg",F="/blog.github.io/assets/ad9ace48ec0a4ca69a7162187b71e2be~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-13M1dtP9.jpg",V="/blog.github.io/assets/921e1b958c4542859296505adbb08d2f~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-DhbrSDiF.jpg",W="/blog.github.io/assets/33701d177c0d44b5a7ea0096265f1e4b~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-DnFe7GHL.jpg",O="/blog.github.io/assets/f0c45c402f5c4bf2b7757bb068ddf303~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-DlsR76po.jpg",K="/blog.github.io/assets/471c8286e4c2423fa2478531d609cfd1~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-BPDpZ5-K.jpg",T="/blog.github.io/assets/2400bd78913b40089c530b868b5658b5~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-CQbh-X4Z.jpg",N="/blog.github.io/assets/6bdc27b7271340a7bdb2f69170ada8ec~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-BA1PfCms.jpg",E="/blog.github.io/assets/579c20a1dc8b46fd812bc37ce8c4e5d5~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-Cfeqgu96.jpg",I="/blog.github.io/assets/ce382b17f8ad41c8bd2db4670905e08f~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-DqE-0NiB.gif",U="/blog.github.io/assets/dac72025ec614fcd9fe754f3a7d8b5d5~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-BS3b8luY.jpg",S="/blog.github.io/assets/867c29f9cc8143d2a5bcadd0cdeff5be~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-BmR1C6o5.jpg",R="/blog.github.io/assets/f45bc10833ad45988019574c7f4ed302~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-BtP7RXcP.jpg",Q="/blog.github.io/assets/5037552e44d2478a88235e3d7112cacc~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-sVes-9BK.jpg",Z="/blog.github.io/assets/958ddf2e71f44649b8f3a8703304e5fa~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-i3t0I-pE.jpg",X="/blog.github.io/assets/1f7f05c6beb648378e13cc062d859a5c~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-DRfP8Sz_.jpg",Y="/blog.github.io/assets/c3f2e4e4a2c246e48f161bb04a71d922~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-Ca7ucrge.jpg",P="/blog.github.io/assets/dd08d06193604e1abf9376599a9cdee6~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-D-tZMLGP.gif",w="/blog.github.io/assets/57deed485cb540419521249d0fa222ca~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-C6u4D30c.jpg",H="/blog.github.io/assets/56b045c4b4684a0a920fee6b73b5f496~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-Bt5EGx1a.jpg",z="/blog.github.io/assets/f78d548a1e80414bb2f396b769854209~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-CmiLBOJ2.jpg",J="/blog.github.io/assets/410bed6c37474d24add503b0dd978815~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-Ty6DzjGc.jpg",M="/blog.github.io/assets/e60e028e916542eea97c63236f40e6ab~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-BO9RYRiR.jpg",L="/blog.github.io/assets/3628bda5626f4496b992cfa9bbf2de8b~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-BnL-6sg8.jpg",G="/blog.github.io/assets/24898cdfa7584ff2a43f8067dbf50961~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-Kt55T-KX.jpg",$="/blog.github.io/assets/24c1c3f6263949cebd563c01b4841a7d~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-CrXuFMnO.jpg",ss="/blog.github.io/assets/0cb7c175a1a74d4dadb11abb437bd085~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-D02ShRTZ.jpg",as="data:image/jpeg;base64,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",is="/blog.github.io/assets/e6fcbe91d83e41c9a16fa9aea8dbd004~tplv-k3u1fbpfcp-jj-mark_1512_0_0_0_q75-BFAMwnkN.jpg",ps={};function ts(es,s){return t(),i("div",null,s[0]||(s[0]=[p(`<p>VSCode Node Debugger 的常用配置。</p><p>首先，从 attch 的方式开始：</p><h2 id="attach" tabindex="-1"><a class="header-anchor" href="#attach"><span>attach</span></a></h2><p>有这样一个 Node.js 文件：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">http</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">http</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">server</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">http</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">createServer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">((</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=&gt;</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">writeHead</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">200</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Content-Type</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">application/json</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">end</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">JSON</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">stringify</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Hello</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">World!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}));</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">listen</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">8888</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们以调试模式启动：</p><p><img src="`+e+'" alt="img"></p><p>然后 VSCode Debugger 添加一个 attach 类型的 Node 调试配置，端口是 9229:</p><p><img src="'+n+'" alt="img"></p><p>点击调试启动就可以连上。</p><p>打个断点：</p><p><img src="'+l+'" alt="img"></p><p>浏览器访问，这时候代码就会在断点处断住：</p><p><img src="'+c+'" alt="img"></p><p>这些我们前面讲过，今天来讲一些别的配置：</p><h3 id="restart" tabindex="-1"><a class="header-anchor" href="#restart"><span>restart</span></a></h3><p>VSCode Debugger 以 attach 的方式启动，是需要连接 ws 调试服务的，而连接自然就可能超时、失败之类的，这时候就需要重连。</p><p>重连的间隔和次数是可以配置的：</p><p><img src="'+r+'" alt="img"></p><p>比如上面就是 1s 重试一次，最多 3 次：</p><p><img src="'+h+'" alt="img"></p><h3 id="attach-by-process-id" tabindex="-1"><a class="header-anchor" href="#attach-by-process-id"><span>attach by process id</span></a></h3><p>上面的 attach 方式是连接到了 9229 端口，但其实还有另一种 attch 方式，就是通过进程 id。</p><p>比如上面跑在 9229 端口的 node 进程的 id 可以通过命令查看：</p><p><img src="'+d+'" alt="img"></p><p>发现是 98700，那么我们就可以通过这个进程 id 来 attach 调试服务：</p><p><img src="'+k+'" alt="img"></p><p><img src="'+o+'" alt="img"></p><p>默认值是 ${command: PickProcess} 这个会弹出一个选择窗口：</p><p><img src="'+g+'" alt="img"></p><p>选择 98700 的那个进程，attach 即可。</p><p>当然，这里我们已经知道了进程 id，那就不需要选择了，直接指定即可：</p><p><img src="'+b+'" alt="img"></p><p>attch 的方式讲完了，接下来来看下 launch 方式的配置：</p><h2 id="launch" tabindex="-1"><a class="header-anchor" href="#launch"><span>launch</span></a></h2><p>launch 不需要我们自己以调试模式启动，只需要指定 node 程序的地址即可：</p><h3 id="program-args" tabindex="-1"><a class="header-anchor" href="#program-args"><span>program &amp; args</span></a></h3><p>创建个 test 文件，打个断点：</p><p><img src="'+A+'" alt="img"></p><p>添加一个 launch 类型的 Node 调试配置：</p><p><img src="'+m+'" alt="img"></p><p><img src="'+_+'" alt="img"></p><p>代码会在断点处断住，然后可以查看当前的命令行参数：</p><p><img src="'+u+'" alt="img"></p><p>命令行参数是这俩：</p><p><img src="'+f+'" alt="img"></p><p>可以通过 args 来添加命令行参数：</p><p><img src="'+j+'" alt="img"></p><p><img src="'+v+'" alt="img"></p><h3 id="runtimeexecutable" tabindex="-1"><a class="header-anchor" href="#runtimeexecutable"><span>runtimeExecutable</span></a></h3><p>runtime 默认是 node，其实这个也是可以改的：</p><p><img src="'+y+'" alt="img"></p><p>VSCode Debugger 会从 PATH 的环境变量中查找对应名字的 runtime 启动。</p><p>我们前面调试 npm scripts，就是修改了这个：</p><p><img src="'+B+'" alt="img"></p><p>比如我们可以跑 node 调试，是因为 PATH 中有 node。</p><p>我们可以安装一个 ts-node：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">npm</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">install</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-g</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ts-node</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后把 runtimeExecutable 改为 ts-node：</p><p><img src="'+D+'" alt="img"></p><p>这时候就是用 ts-node 来跑了：</p><p><img src="'+q+'" alt="img"></p><p>你还可以通过 runtimeArgs 给它传参数。</p><p>VSCode 内置了 launch via npm 的配置，如果你把 runtimeExecutable 换成 pnpm，那就是 launch via pnpm 了。</p><p><img src="'+x+'" alt="img"></p><h3 id="skipfiles" tabindex="-1"><a class="header-anchor" href="#skipfiles"><span>skipFiles</span></a></h3><p>这个配置的默认值是 &lt;node_internal&gt;/**</p><p><img src="'+C+'" alt="img"></p><p>也就是跳过 node 内部的文件。</p><p>效果就是这样的：</p><p><img src="'+F+'" alt="img"></p><p>这样就可以精简掉调用栈，只显示我们关心的部分。</p><p>把 skipFiles 置空之后，所有代码就都展示出来了：</p><p><img src="'+V+'" alt="img"></p><p>再来测试下，我们添加这样两个文件：</p><p><img src="'+W+'" alt="img"></p><p><img src="'+O+'" alt="img"></p><p>在 add 里打了个断点，然后调试方式启动：</p><p><img src="'+K+'" alt="img"></p><p>调用栈是这样的：</p><p><img src="'+T+'" alt="img"></p><p>如果你把 index 添加到 skipFiles 里：</p><p><img src="'+N+'" alt="img"></p><p>那调用栈就是这样了：</p><p><img src="'+E+'" alt="img"></p><p>index.js 也被加到 skipFiles 里折叠起来了。</p><h3 id="stoponentry" tabindex="-1"><a class="header-anchor" href="#stoponentry"><span>stopOnEntry</span></a></h3><p>这个是在首行断住，和 node --inspect-brk 的效果一样，在 chrome 调试时也有同样的配置：</p><p><img src="'+I+'" alt="img"></p><h2 id="console" tabindex="-1"><a class="header-anchor" href="#console"><span>console</span></a></h2><p>默认 debug 模式下，打印的日志是在 console 的，而不是 terminal。而 console 里是不支持彩色的：</p><p><img src="'+U+'" alt="img"></p><p>这个可以通过 console 配置设置，有三个选项：</p><p><img src="'+S+'" alt="img"></p><p>internalConsole 就是内置的 debug console 面板，默认是这个。</p><p>internalTerminal 是内置的 terminal 面板，切换成这个就是彩色了：</p><p><img src="'+R+'" alt="img"></p><p>externalTerminal 会打开系统的 terminal 来展示日志信息：</p><p><img src="'+Q+`" alt="img"></p><p>一般情况下，用 internalTerminal 就好。</p><h3 id="autoattachchildprocesses" tabindex="-1"><a class="header-anchor" href="#autoattachchildprocesses"><span>autoAttachChildProcesses</span></a></h3><p>node 里是支持多进程的，可以把一些脚本放在子进程来跑来提高性能，充分利用计算机的资源。</p><p>比如这样：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">cp</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">child_process</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">cp</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">spawnSync</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">node</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./index.js</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">],</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">stdio</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">inherit</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>他就是把 index.js 放到子进程来跑了。</p><p>但是默认子进程的输入输出也就是 stdin（标准输入）、stdout（标准输出）不会显示在控制台，这时候可以让它继承父进程的 stdin、stdout 就可以了。</p><p><img src="`+Z+'" alt="img"></p><p>这个输入输出当然也可以定向到别的地方。记得前面我们指定过 console 的输出位置么？</p><p><img src="'+X+`" alt="img"></p><p>这个就是输入输出流 stdin、stdout 的重定向。</p><p>当然，这不是我们的重点，我们目的是为了能调试子进程的代码。</p><p>index.js 是这样的：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">add</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./add</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">add</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span class="space"> </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">));</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>add.js 是这样：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">module</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exports</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">a</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">b</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">return</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">a</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">+</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">b</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们在 add.js 里打个断点：</p><p><img src="`+Y+'" alt="img"></p><p>它是在子进程里的断点，但是跑调试你会发现能断住：</p><p><img src="'+P+'" alt="img"></p><p>这是因为 autoAttachChildProcesses 的默认值是 true。</p><p>调试模式启动的时候，主进程会有调试端口，子进程也会有调试端口，而 autoAttachChildProcess 就是自动连接上子进程的 ws 调试服务的端口。</p><p><img src="'+w+'" alt="img"></p><p>调用栈这里也可以看到是两级的结构，这就是 attch 到了子进程的调试服务。</p><p>如果你把 autoAttachChildProcesses 设置为 false，就会发现在子进程打的断点不会生效了。</p><h3 id="cwd" tabindex="-1"><a class="header-anchor" href="#cwd"><span>cwd</span></a></h3><p>cwd 很容易理解就是 current work directory，当前工作目录。</p><p>也就是指定 runtime 在哪个目录运行，默认是项目根目录 workspaceFolder</p><p>比如在调试 npm scripts 的时候，指定了 cwd 就是在 cwd 下执行 npm run xxx 了：</p><p><img src="'+H+'" alt="img"></p><h3 id="env" tabindex="-1"><a class="header-anchor" href="#env"><span>env</span></a></h3><p>node 程序很多情况下是需要取一些环境变量的，那我们要手动设置了环境变量再跑调试么？</p><p>不用，有对应的配置，也就是 env。</p><p>比如这样：</p><p><img src="'+z+'" alt="img"></p><p>这样在调试的 node 程序里就可以取到这些环境变量：</p><p><img src="'+J+'" alt="img"></p><p>如果你有一个 envFile 来保存环境变量的话，也可以通过 envFile 的方式：</p><p><img src="'+M+'" alt="img"></p><p>.env 内容如下：</p><p><img src="'+L+'" alt="img"></p><p>在 node 代码里可以取到对应的环境变量：</p><p><img src="'+G+'" alt="img"></p><h3 id="presentation" tabindex="-1"><a class="header-anchor" href="#presentation"><span>presentation</span></a></h3><p>当调试配置多了以后，就会比较乱，那能不能做一些配置的分组还有排序呢？</p><p>VSCode Debugger 是支持的。</p><p>比如这样三个调试配置：</p><p><img src="'+$+'" alt="img"></p><p>我们想把调试 chrome 的放一组，调试 node 的放一组，就可以这样写：</p><p><img src="'+ss+'" alt="img"></p><p><img src="'+as+'" alt="img"></p><p>效果就是这样的：</p><p>大型项目里调试配置会很多，比如 VSCode，它就有很多调试配置，并用 presentation 做了分组：</p><p><img src="'+is+'" alt="img"></p><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>这节我们过了一遍 VSCode Node Debugger 的调试配置：</p><ul><li>restart: attatch 的时候可以指定尝试重连的次数和时间间隔</li><li>processId：除了可以通过网络端口，还可以通过进程 id 的方式 attach 到某个进程的调试服务</li><li>program：调试的 node 代码路径，可以通过 args 传参</li><li>runtimeExecutable：指定跑代码用的 runtime，默认是 node，也可以换成 ts-node、npm、pnpm 等，但要求这些命令在 PATH 环境变量里</li><li>skipFiles：折叠某些路径，不显示在调用栈里，比如 node 内部的一些代码</li><li>stopOnEntry：在首行断住，和 --inspect-brk 一样的效果</li><li>autoAttachChildProcesses：自动 attch 到子进程的调试服务</li><li>console：指定日志输出的位置，是内置的 console、terminal，还是外部的 terminal</li><li>cwd：跑 runtime 的目录</li><li>env：指定环境变量</li><li>presentation：对多个调试配置做分组和排序</li></ul><p>理解了这些调试配置，就可以愉快的调试 node 代码了。</p>',157)]))}const ls=a(ps,[["render",ts],["__file","index.html.vue"]]),cs=JSON.parse('{"path":"/article/8otdsbl2/","title":"vscode-node-debugger","lang":"zh-CN","frontmatter":{"title":"vscode-node-debugger","createTime":"2024/10/03 22:38:17","permalink":"/article/8otdsbl2/","tags":["Debugger","node"]},"headers":[],"readingTime":{"minutes":7.36,"words":2208},"git":{"updatedTime":1742544334000,"contributors":[{"name":"hello-xiaowu","username":"hello-xiaowu","email":"mvr46tx2fw@privaterelay.appleid.com","commits":5,"avatar":"https://avatars.githubusercontent.com/hello-xiaowu?v=4","url":"https://github.com/hello-xiaowu"}]},"filePathRelative":"docs/vscode-node-debugger.md","categoryList":[{"id":"e3e2a9","sort":10000,"name":"docs"}]}');export{ls as comp,cs as data};
